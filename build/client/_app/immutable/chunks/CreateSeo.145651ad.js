import{s as ct,g as o,c as _,h as i,i as D,S as R,d as k,k as c,O as T,J as ut,T as Ze,P as dt}from"./scheduler.f07b0b6c.js";import{S as pt,i as ft,d as qe,v as mt,j as at,e as y,k as rt,g as e,a as nt,n as t,m as st,o as $,b as de,h as gt,t as De,c as ht,l as lt}from"./index.9d8dfa58.js";import{g as bt}from"./globals.7f7f1b26.js";import{R as $e}from"./RepositoryFactory.86b3ebd7.js";import{B as Pe}from"./Const.9014b5a8.js";import{l as Ue}from"./loading.aad9f80f.js";import{t as Ce}from"./toastError.c18f270d.js";import{I as ot}from"./Indicator.svelte_svelte_type_style_lang.f13b9a5c.js";import{a as Fe}from"./axios.82afda87.js";import{F as it}from"./Fileupload.00e9277f.js";const{console:et}=bt,u="src/lib/components/admin/seo/CreateSeo.svelte";function Me(n){let r,l,E,G,d,a,g,w,V,h;g=new ot({props:{icon:"iwwa:delete",width:"30"},$$inline:!0});const j={c:function(){r=o("div"),l=o("div"),E=o("img"),d=_(),a=o("div"),at(g.$$.fragment),this.h()},l:function(m){r=i(m,"DIV",{class:!0});var A=D(r);l=i(A,"DIV",{class:!0});var N=D(l);E=i(N,"IMG",{class:!0,src:!0,alt:!0}),d=k(N),a=i(N,"DIV",{class:!0});var C=D(a);rt(g.$$.fragment,C),C.forEach(y),N.forEach(y),A.forEach(y),this.h()},h:function(){e(E,"class","object-cover w-full h-[300px] rounded"),Ze(E.src,G=`http://103.142.26.42${n[1]}`)||e(E,"src",G),e(E,"alt","avatar"),c(E,u,291,20,8973),e(a,"class","absolute top-0 right-0 cursor-pointer bg-white rounded text-red-500"),c(a,u,296,20,9188),e(l,"class","relative"),c(l,u,290,16,8930),e(r,"class","grid grid-cols-1 xl:grid-cols-4 gap-[10px] py-[20px]"),c(r,u,289,12,8847)},m:function(m,A){nt(m,r,A),t(r,l),t(l,E),t(l,d),t(l,a),st(g,a,null),w=!0,V||(h=$(a,"click",function(){dt(n[4](n[1]))&&n[4](n[1]).apply(this,arguments)},!1,!1,!1,!1),V=!0)},p:function(m,A){n=m,(!w||A&2&&!Ze(E.src,G=`http://103.142.26.42${n[1]}`))&&e(E,"src",G)},i:function(m){w||(de(g.$$.fragment,m),w=!0)},o:function(m){De(g.$$.fragment,m),w=!1},d:function(m){m&&y(r),lt(g),V=!1,h()}};return qe("SvelteRegisterBlock",{block:j,id:Me.name,type:"if",source:"(280:8) {#if file}",ctx:n}),j}function je(n){let r,l,E="seo edit",G,d,a,g,w="Meta Title",V,h,j,b,m,A="Meta Description",N,C,ie,P,U,F,pe="Keywords",ce,S,ue,s,x,ee="Canonical Url",q,I,le,z,J,H,Re="Robot MetaTags",Ie,B,Ee,K,Q,Ge="Open GraphTags",Se,O,Te,ae,W,X,ze="Sitemap Frequency",Ve,L,Ae,M,Y,Je="Images",Be,te,Oe,Le,re,ne,Z,He="Submit",fe,Ne,Ke;te=new it({props:{class:"w-24 py-[10px] bg-white"},$$inline:!0}),te.$on("change",n[3]);let v=n[1]&&Me(n);const Qe={c:function(){r=o("div"),l=o("h1"),l.textContent=E,G=_(),d=o("div"),a=o("div"),g=o("label"),g.textContent=w,V=_(),h=o("input"),j=_(),b=o("div"),m=o("label"),m.textContent=A,N=_(),C=o("input"),ie=_(),P=o("div"),U=o("div"),F=o("label"),F.textContent=pe,ce=_(),S=o("input"),ue=_(),s=o("div"),x=o("label"),x.textContent=ee,q=_(),I=o("input"),le=_(),z=o("div"),J=o("div"),H=o("label"),H.textContent=Re,Ie=_(),B=o("input"),Ee=_(),K=o("div"),Q=o("label"),Q.textContent=Ge,Se=_(),O=o("input"),Te=_(),ae=o("div"),W=o("div"),X=o("label"),X.textContent=ze,Ve=_(),L=o("input"),Ae=_(),M=o("div"),Y=o("label"),Y.textContent=Je,Be=_(),at(te.$$.fragment),Oe=_(),v&&v.c(),Le=_(),re=o("div"),ne=o("div"),Z=o("button"),Z.textContent=He,this.h()},l:function(p){r=i(p,"DIV",{class:!0});var f=D(r);l=i(f,"H1",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-pm1pk"&&(l.textContent=E),G=k(f),d=i(f,"DIV",{class:!0});var me=D(d);a=i(me,"DIV",{class:!0});var ge=D(a);g=i(ge,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(g)!=="svelte-58elpm"&&(g.textContent=w),V=k(ge),h=i(ge,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),ge.forEach(y),j=k(me),b=i(me,"DIV",{class:!0});var he=D(b);m=i(he,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(m)!=="svelte-17tjas6"&&(m.textContent=A),N=k(he),C=i(he,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),he.forEach(y),me.forEach(y),ie=k(f),P=i(f,"DIV",{class:!0});var be=D(P);U=i(be,"DIV",{class:!0});var ve=D(U);F=i(ve,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(F)!=="svelte-36069z"&&(F.textContent=pe),ce=k(ve),S=i(ve,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),ve.forEach(y),ue=k(be),s=i(be,"DIV",{class:!0});var ye=D(s);x=i(ye,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(x)!=="svelte-gfbbjw"&&(x.textContent=ee),q=k(ye),I=i(ye,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),ye.forEach(y),be.forEach(y),le=k(f),z=i(f,"DIV",{class:!0});var xe=D(z);J=i(xe,"DIV",{class:!0});var _e=D(J);H=i(_e,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(H)!=="svelte-1bgqrnr"&&(H.textContent=Re),Ie=k(_e),B=i(_e,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),_e.forEach(y),Ee=k(xe),K=i(xe,"DIV",{class:!0});var ke=D(K);Q=i(ke,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(Q)!=="svelte-10p5mek"&&(Q.textContent=Ge),Se=k(ke),O=i(ke,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),ke.forEach(y),xe.forEach(y),Te=k(f),ae=i(f,"DIV",{class:!0});var We=D(ae);W=i(We,"DIV",{class:!0});var we=D(W);X=i(we,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(X)!=="svelte-fa596"&&(X.textContent=ze),Ve=k(we),L=i(we,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0}),we.forEach(y),We.forEach(y),Ae=k(f),M=i(f,"DIV",{});var oe=D(M);Y=i(oe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),R(Y)!=="svelte-1ynutco"&&(Y.textContent=Je),Be=k(oe),rt(te.$$.fragment,oe),Oe=k(oe),v&&v.l(oe),oe.forEach(y),Le=k(f),re=i(f,"DIV",{class:!0});var Xe=D(re);ne=i(Xe,"DIV",{class:!0});var Ye=D(ne);Z=i(Ye,"BUTTON",{class:!0,"data-svelte-h":!0}),R(Z)!=="svelte-4qjpvv"&&(Z.textContent=He),Ye.forEach(y),Xe.forEach(y),f.forEach(y),this.h()},h:function(){e(l,"class","text-[34px] py-[10px] uppercase text-center font-bold"),c(l,u,161,4,3735),e(g,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(g,"for","grid-first-name"),c(g,u,166,12,3927),e(h,"class","appearance-none dark:bg-gray-700 block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3"),e(h,"id","grid-first-name"),e(h,"type","text"),e(h,"placeholder","Input Meta Description"),c(h,u,172,12,4162),e(a,"class","md:w-1/2 px-3 mb-6 md:mb-0"),c(a,u,165,8,3874),e(m,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(m,"for","grid-last-name"),c(m,u,181,12,4552),e(C,"class","appearance-none dark:bg-gray-700 block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4"),e(C,"id","grid-last-name"),e(C,"type","text"),e(C,"placeholder","Meta Description "),c(C,u,187,12,4792),e(b,"class","md:w-1/2 px-3"),c(b,u,180,8,4512),e(d,"class","-mx-3 md:flex mb-6"),c(d,u,164,4,3833),e(F,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(F,"for","grid-first-name"),c(F,u,198,12,5247),e(S,"class","appearance-none dark:bg-gray-700 block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3"),e(S,"id","grid-first-name"),e(S,"type","text"),e(S,"placeholder","Input Meta keywords"),c(S,u,204,12,5480),e(U,"class","md:w-1/2 px-3 mb-6 md:mb-0"),c(U,u,197,8,5194),e(x,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(x,"for","grid-last-name"),c(x,u,213,12,5866),e(I,"class","appearance-none dark:bg-gray-700 block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4"),e(I,"id","grid-last-name"),e(I,"type","text"),e(I,"placeholder","Innput Canonical Url "),c(I,u,219,12,6103),e(s,"class","md:w-1/2 px-3"),c(s,u,212,8,5826),e(P,"class","-mx-3 md:flex mb-6"),c(P,u,196,4,5153),e(H,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(H,"for","grid-first-name"),c(H,u,230,12,6559),e(B,"class","appearance-none dark:bg-gray-700 block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3"),e(B,"id","grid-first-name"),e(B,"type","text"),e(B,"placeholder","Input Meta Robot MetaTags"),c(B,u,236,12,6798),e(J,"class","md:w-1/2 px-3 mb-6 md:mb-0"),c(J,u,229,8,6506),e(Q,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(Q,"for","grid-last-name"),c(Q,u,245,12,7195),e(O,"class","appearance-none dark:bg-gray-700 block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4"),e(O,"id","grid-last-name"),e(O,"type","text"),e(O,"placeholder","Innput Open GraphTags "),c(O,u,251,12,7433),e(K,"class","md:w-1/2 px-3"),c(K,u,244,8,7155),e(z,"class","-mx-3 md:flex mb-6"),c(z,u,228,4,6465),e(X,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(X,"for","grid-last-name"),c(X,u,262,12,7878),e(L,"class","appearance-none dark:bg-gray-700 block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4"),e(L,"id","grid-last-name"),e(L,"type","text"),e(L,"placeholder","Innput Sitemap Frequency "),c(L,u,268,12,8119),e(W,"class","md:w-1/2 px-3"),c(W,u,261,8,7838),e(ae,"class","-mx-3 md:flex mb-6"),c(ae,u,260,4,7797),e(Y,"class","block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2 text-[14px] py-[10px]"),e(Y,"for","grid-zip"),c(Y,u,278,8,8503),c(M,u,277,4,8489),e(Z,"class","bg-black text-white border border-black-500 hover:border-transparent rounded px-[80px] py-[10px]"),c(Z,u,308,12,9650),e(ne,"class","btn-signup w-fit"),c(ne,u,307,8,9607),e(re,"class","flex justify-center items-center relative bottom-0"),c(re,u,306,4,9534),e(r,"class","bg-white dark:bg-slate-800 dark:text-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2 h-full"),c(r,u,158,0,3605)},m:function(p,f){nt(p,r,f),t(r,l),t(r,G),t(r,d),t(d,a),t(a,g),t(a,V),t(a,h),T(h,n[0].metaTitle),t(d,j),t(d,b),t(b,m),t(b,N),t(b,C),T(C,n[0].metaDescription),t(r,ie),t(r,P),t(P,U),t(U,F),t(U,ce),t(U,S),T(S,n[0].keywords),t(P,ue),t(P,s),t(s,x),t(s,q),t(s,I),T(I,n[0].canonicalUrl),t(r,le),t(r,z),t(z,J),t(J,H),t(J,Ie),t(J,B),T(B,n[0].robotMetaTags),t(z,Ee),t(z,K),t(K,Q),t(K,Se),t(K,O),T(O,n[0].openGraphTags),t(r,Te),t(r,ae),t(ae,W),t(W,X),t(W,Ve),t(W,L),T(L,n[0].sitemapFrequency),t(r,Ae),t(r,M),t(M,Y),t(M,Be),st(te,M,null),t(M,Oe),v&&v.m(M,null),t(r,Le),t(r,re),t(re,ne),t(ne,Z),fe=!0,Ne||(Ke=[$(h,"input",n[6]),$(C,"input",n[7]),$(S,"input",n[8]),$(I,"input",n[9]),$(B,"input",n[10]),$(O,"input",n[11]),$(L,"input",n[12]),$(Z,"click",n[2],!1,!1,!1,!1)],Ne=!0)},p:function(p,[f]){f&1&&h.value!==p[0].metaTitle&&T(h,p[0].metaTitle),f&1&&C.value!==p[0].metaDescription&&T(C,p[0].metaDescription),f&1&&S.value!==p[0].keywords&&T(S,p[0].keywords),f&1&&I.value!==p[0].canonicalUrl&&T(I,p[0].canonicalUrl),f&1&&B.value!==p[0].robotMetaTags&&T(B,p[0].robotMetaTags),f&1&&O.value!==p[0].openGraphTags&&T(O,p[0].openGraphTags),f&1&&L.value!==p[0].sitemapFrequency&&T(L,p[0].sitemapFrequency),p[1]?v?(v.p(p,f),f&2&&de(v,1)):(v=Me(p),v.c(),de(v,1),v.m(M,null)):v&&(gt(),De(v,1,1,()=>{v=null}),ht())},i:function(p){fe||(de(te.$$.fragment,p),de(v),fe=!0)},o:function(p){De(te.$$.fragment,p),De(v),fe=!1},d:function(p){p&&y(r),lt(te),v&&v.d(),Ne=!1,ut(Ke)}};return qe("SvelteRegisterBlock",{block:Qe,id:je.name,type:"component",source:"",ctx:n}),Qe}function tt(n){return n?JSON.parse(n):[]}function vt(n,r,l){let{$$slots:E={},$$scope:G}=r;mt("CreateSeo",E,[]);let{seoData:d}=r,a=d.seo,g="http://103.142.26.42",w;w=a.image;let V=tt(d.images),h=V?V[0]:"";const j=$e.get("seoRepository");async function b(){let s={"@context":`${g}`,"@type":"sản phẩm ",name:`${d.name}`,description:`${a.metaDescription}`,image:`${h}`,brand:{"@type":"Thương Hiệu",name:"Pet One"},offers:{"@type":"Offer",price:`${d.price}`,priceCurrency:"VNĐ",availability:"http://103.142.26.42",seller:{"@type":"Organization",name:"Pet One"}}};l(0,a.image=w,a),l(0,a.structuredData=JSON.stringify(s),a);const x=await j.post(a);return l(0,a=x.data.data),l(5,d.seoId=a.id,d),l(5,d.seo=a,d),x}async function m(){let s={"@context":`${g}`,"@type":"sản phẩm ",name:`${d.productName}`,description:`${a.metaDescription}`,image:`${h}`,brand:{"@type":"Thương Hiệu",name:"Pet One"},offers:{"@type":"Offer",price:`${d.price}`,priceCurrency:"VNĐ",availability:"http://103.142.26.42",seller:{"@type":"Organization",name:"Pet One"}}};return l(0,a.structuredData=JSON.stringify(s),a),j.put(a.id,a)}async function A(){var x,ee;if(Ue.set(!0),a.id)try{const q=await m()}catch(q){console.log(q)}else try{await b()}catch(q){const I=(ee=(x=q==null?void 0:q.response)==null?void 0:x.data)==null?void 0:ee.errors;var s=I==null?void 0:I.map(le=>({message:le.path+"-"+le.msg,type:"error"}));Ce.set(s)}Ue.set(!1)}async function N(s){l(1,w=s.target.files[0]);const x=new FormData;x.append("file",w);try{const ee=await Fe.post(`${Pe}/upload`,x,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});l(1,w=ee.data.data.path)}catch{Ce.set([{message:"File upload failed",type:"error"}])}}async function C(s){try{await Fe.post(`${Pe}/upload/delete`,{path:s},{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),l(1,w="")}catch{Ce.set([{message:"File deleting failed",type:"error"}])}}n.$$.on_mount.push(function(){d===void 0&&!("seoData"in r||n.$$.bound[n.$$.props.seoData])&&et.warn("<CreateSeo> was created without expected prop 'seoData'")});const ie=["seoData"];Object.keys(r).forEach(s=>{!~ie.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&et.warn(`<CreateSeo> was created with unknown prop '${s}'`)});function P(){a.metaTitle=this.value,l(0,a)}function U(){a.metaDescription=this.value,l(0,a)}function F(){a.keywords=this.value,l(0,a)}function pe(){a.canonicalUrl=this.value,l(0,a)}function ce(){a.robotMetaTags=this.value,l(0,a)}function S(){a.openGraphTags=this.value,l(0,a)}function ue(){a.sitemapFrequency=this.value,l(0,a)}return n.$$set=s=>{"seoData"in s&&l(5,d=s.seoData)},n.$capture_state=()=>({RepositoryFactory:$e,BASE_API:Pe,loadingState:Ue,toastErr:Ce,Icon:ot,axios:Fe,Fileupload:it,seoData:d,seo:a,host:g,file:w,convertImageJsonToArray:tt,images:V,image:h,seoService:j,handleSubmitCreateSeo:b,handleSubmitUpdateSeo:m,handleSubmit:A,handleFileInputChange:N,handleDeleteFile:C}),n.$inject_state=s=>{"seoData"in s&&l(5,d=s.seoData),"seo"in s&&l(0,a=s.seo),"host"in s&&(g=s.host),"file"in s&&l(1,w=s.file),"images"in s&&(V=s.images),"image"in s&&(h=s.image)},r&&"$$inject"in r&&n.$inject_state(r.$$inject),[a,w,A,N,C,d,P,U,F,pe,ce,S,ue]}class Tt extends pt{constructor(r){super(r),ft(this,r,vt,je,ct,{seoData:5}),qe("SvelteRegisterComponent",{component:this,tagName:"CreateSeo",options:r,id:je.name})}get seoData(){throw new Error("<CreateSeo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set seoData(r){throw new Error("<CreateSeo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Tt as C};
