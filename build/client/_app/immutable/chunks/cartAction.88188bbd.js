import{H as f}from"./Const.4ee2e7e1.js";import{c as i}from"./cart.87070627.js";import{t as r}from"./toastError.ab1f0c9f.js";import{r as o,s as n,g as u}from"./cookieUtils.9487ed92.js";async function S(t){let s=[],m=await JSON.parse(t.images),c={id:t.id,name:t.productName,origin:t.origin,image:f+m[0],url:t.slug,price:t.price,quantity:1,isSelect:!1};i.subscribe(a=>{s=JSON.parse(a)});var e=s.find(a=>a.id==c.id);e?e.quantity<20?(e.quantity+=1,s.map(a=>a.id===(e==null?void 0:e.id)?e:a),r.set([{message:"Add to cart success",type:"success"}])):r.set([{message:"Quantity can not over than 20",type:"error"}]):(s.push(c),r.set([{message:"Add to cart success",type:"success"}]));const g=JSON.stringify(s);o("cart"),n("cart",g),i.set(u("cart"))}async function N(t){const s=JSON.stringify(t);o("cart"),n("cart",s),i.set(u("cart"))}export{S as a,N as u};
