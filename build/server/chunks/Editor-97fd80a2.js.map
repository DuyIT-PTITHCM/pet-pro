{"version":3,"file":"Editor-97fd80a2.js","sources":["../../../.svelte-kit/adapter-node/chunks/Editor.js"],"sourcesContent":["import { c as create_ssr_component, i as createEventDispatcher, o as onDestroy, a as add_attribute, v as validate_component } from \"./ssr.js\";\nimport { H as HOST } from \"./Const.js\";\nimport { R as RepositoryFactory } from \"./RepositoryFactory.js\";\nimport { t as toastErr } from \"./toastError2.js\";\nconst uuid = (prefix) => {\n  return prefix + \"_\" + Math.floor(Math.random() * 1e9) + String(Date.now());\n};\nconst Editor = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { id = uuid(\"tinymce-svelte\") } = $$props;\n  let { inline = void 0 } = $$props;\n  let { disabled = false } = $$props;\n  let { apiKey = \"no-api-key\" } = $$props;\n  let { channel = \"6\" } = $$props;\n  let { scriptSrc = void 0 } = $$props;\n  let { conf = {} } = $$props;\n  let { modelEvents = \"change input undo redo\" } = $$props;\n  let { value = \"\" } = $$props;\n  let { text = \"\" } = $$props;\n  let { cssClass = \"tinymce-wrapper\" } = $$props;\n  let container;\n  let element;\n  createEventDispatcher();\n  onDestroy(() => {\n  });\n  if ($$props.id === void 0 && $$bindings.id && id !== void 0)\n    $$bindings.id(id);\n  if ($$props.inline === void 0 && $$bindings.inline && inline !== void 0)\n    $$bindings.inline(inline);\n  if ($$props.disabled === void 0 && $$bindings.disabled && disabled !== void 0)\n    $$bindings.disabled(disabled);\n  if ($$props.apiKey === void 0 && $$bindings.apiKey && apiKey !== void 0)\n    $$bindings.apiKey(apiKey);\n  if ($$props.channel === void 0 && $$bindings.channel && channel !== void 0)\n    $$bindings.channel(channel);\n  if ($$props.scriptSrc === void 0 && $$bindings.scriptSrc && scriptSrc !== void 0)\n    $$bindings.scriptSrc(scriptSrc);\n  if ($$props.conf === void 0 && $$bindings.conf && conf !== void 0)\n    $$bindings.conf(conf);\n  if ($$props.modelEvents === void 0 && $$bindings.modelEvents && modelEvents !== void 0)\n    $$bindings.modelEvents(modelEvents);\n  if ($$props.value === void 0 && $$bindings.value && value !== void 0)\n    $$bindings.value(value);\n  if ($$props.text === void 0 && $$bindings.text && text !== void 0)\n    $$bindings.text(text);\n  if ($$props.cssClass === void 0 && $$bindings.cssClass && cssClass !== void 0)\n    $$bindings.cssClass(cssClass);\n  return `<div${add_attribute(\"class\", cssClass, 0)}${add_attribute(\"this\", container, 0)}>${inline ? `<div${add_attribute(\"id\", id, 0)}${add_attribute(\"this\", element, 0)}></div>` : `<textarea${add_attribute(\"id\", id, 0)} style=\"visibility:hidden\"${add_attribute(\"this\", element, 0)}></textarea>`}</div>`;\n});\nconst Editor_1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { text = \"\" } = $$props;\n  text = text == null ? \"\" : text;\n  let { id = \"\" } = $$props;\n  const uploadFileService = RepositoryFactory.get(\"uploadRepository\");\n  const conf = {\n    plugins: \"image table\",\n    toolbar1: \"newdocument fullpage | blocks fontfamily fontsize | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect fontselect fontsizeselect | heading\",\n    toolbar2: \"image | media | cut copy paste | searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink anchor code | insertdatetime preview | forecolor backcolor\",\n    toolbar3: \"table | hr removeformat | subscript superscript | charmap emoticons | print fullscreen | ltr rtl | spellchecker | visualchars visualblocks nonbreaking template pagebreak restoredraft\",\n    menubar: false,\n    file_picker_types: \"image\",\n    async file_picker_callback(callback, value, meta) {\n      var input = document.createElement(\"input\");\n      input.setAttribute(\"type\", \"file\");\n      input.setAttribute(\"accept\", \"image/*\");\n      input.onchange = async function() {\n        var file = this.files[0];\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        try {\n          const res = await uploadFileService.uploadFileEditor(formData);\n          console.log(res);\n          callback(HOST + res?.data?.location, { alt: \"\" });\n        } catch (error) {\n          toastErr.set([\n            {\n              message: \"File upload failed\",\n              type: \"error\"\n            }\n          ]);\n        }\n      };\n      input.click();\n    }\n  };\n  if ($$props.text === void 0 && $$bindings.text && text !== void 0)\n    $$bindings.text(text);\n  if ($$props.id === void 0 && $$bindings.id && id !== void 0)\n    $$bindings.id(id);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    $$rendered = `${validate_component(Editor, \"Editor\").$$render(\n      $$result,\n      {\n        apiKey: \"4zwho6iauuup5m7zl61gs294kuht6k9pzbwz87v7hnpkhh10\",\n        id,\n        inline: \"false\",\n        disabled: \"false\",\n        conf,\n        modelEvents: \"input change undo redo\",\n        text: \"readonly-text-output\",\n        value: text\n      },\n      {\n        value: ($$value) => {\n          text = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Editor_1 as E\n};\n"],"names":[],"mappings":"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"}